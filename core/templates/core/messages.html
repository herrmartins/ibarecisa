{% if messages %}
<div class="fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-sm">
  {% for message in messages %}
    <div class="message-toast message-{{ message.tags }} flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg">
      <div class="flex-1 text-sm font-medium">
        {{ message }}
      </div>
      <button type="button" class="message-close flex-shrink-0 text-current/70 hover:text-current transition-colors" aria-label="Fechar">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
  {% endfor %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Auto-remove messages after 5 seconds
    const messages = document.querySelectorAll('.message-toast');
    messages.forEach(msg => {
      setTimeout(() => {
        msg.style.opacity = '0';
        msg.style.transform = 'translateX(100%)';
        setTimeout(() => msg.remove(), 300);
      }, 5000);

      // Close button functionality
      const closeBtn = msg.querySelector('.message-close');
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          msg.style.opacity = '0';
          msg.style.transform = 'translateX(100%)';
          setTimeout(() => msg.remove(), 300);
        });
      }
    });
  });
</script>
{% endif %}
